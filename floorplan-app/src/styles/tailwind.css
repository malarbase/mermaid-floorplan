/**
 * Tailwind CSS + DaisyUI styles for floorplan-app
 *
 * ARCHITECTURAL BLUEPRINT THEME
 * A distinctive dark theme with technical precision aesthetics
 */

/* === Self-hosted Fonts ===
 * Fonts are preloaded in entry-server.tsx for zero FOUC.
 * font-display: block briefly hides text while font loads (imperceptible with preload).
 */

/* Bebas Neue - Display/Heading font */
@font-face {
  font-family: "Bebas Neue";
  font-style: normal;
  font-weight: 400;
  font-display: block;
  src: url("/fonts/bebas-neue-v16-latin-regular.woff2") format("woff2");
}

/* DM Sans - Body font */
@font-face {
  font-family: "DM Sans";
  font-style: normal;
  font-weight: 400;
  font-display: block;
  src: url("/fonts/dm-sans-v17-latin-regular.woff2") format("woff2");
}

@font-face {
  font-family: "DM Sans";
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: url("/fonts/dm-sans-v17-latin-italic.woff2") format("woff2");
}

@font-face {
  font-family: "DM Sans";
  font-style: normal;
  font-weight: 500;
  font-display: swap;
  src: url("/fonts/dm-sans-v17-latin-500.woff2") format("woff2");
}

@font-face {
  font-family: "DM Sans";
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: url("/fonts/dm-sans-v17-latin-600.woff2") format("woff2");
}

@font-face {
  font-family: "DM Sans";
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: url("/fonts/dm-sans-v17-latin-700.woff2") format("woff2");
}

/* JetBrains Mono - Code/Monospace font */
@font-face {
  font-family: "JetBrains Mono";
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: url("/fonts/jetbrains-mono-v24-latin-regular.woff2") format("woff2");
}

@font-face {
  font-family: "JetBrains Mono";
  font-style: normal;
  font-weight: 500;
  font-display: swap;
  src: url("/fonts/jetbrains-mono-v24-latin-500.woff2") format("woff2");
}

@font-face {
  font-family: "JetBrains Mono";
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: url("/fonts/jetbrains-mono-v24-latin-600.woff2") format("woff2");
}

@import "tailwindcss";

/* === DaisyUI v5 Configuration === */
@plugin "daisyui" {
  themes:
    light,
    dark --default;
  logs: true;
}

/* === Light Theme - Clean technical aesthetic === */
@plugin "daisyui/theme" {
  name: "light";
  color-scheme: light;

  /* Clean white/gray backgrounds */
  --color-base-100: oklch(100% 0 0); /* #ffffff - Background */
  --color-base-200: oklch(97% 0.01 250); /* #f5f7fa - Card backgrounds */
  --color-base-300: oklch(93% 0.01 250); /* #e8ecf0 - Hover states */
  --color-base-content: oklch(20% 0.02 250); /* #1a2030 - Primary text */

  /* Technical cyan accent (same as dark) */
  --color-primary: oklch(60% 0.18 195); /* Slightly darker cyan for light bg */
  --color-primary-content: oklch(100% 0 0); /* White text on cyan */

  /* Muted secondary */
  --color-secondary: oklch(45% 0.08 250); /* Darker blue-gray */
  --color-secondary-content: oklch(100% 0 0);

  /* Accent matches primary */
  --color-accent: oklch(60% 0.18 195);
  --color-accent-content: oklch(100% 0 0);

  /* Neutral for borders */
  --color-neutral: oklch(85% 0.01 250); /* Light border color */
  --color-neutral-content: oklch(20% 0.02 250);

  /* Status colors */
  --color-info: oklch(55% 0.15 220);
  --color-info-content: oklch(100% 0 0);
  --color-success: oklch(55% 0.18 145);
  --color-success-content: oklch(100% 0 0);
  --color-warning: oklch(70% 0.15 75);
  --color-warning-content: oklch(15% 0.05 75);
  --color-error: oklch(55% 0.22 25);
  --color-error-content: oklch(100% 0 0);

  /* Sharper corners for technical feel */
  --radius-selector: 0.375rem;
  --radius-field: 0.25rem;
  --radius-box: 0.5rem;
}

/* === Dark Theme - Architectural Blueprint ===
 * Dark technical aesthetic with cyan accents
 */
@plugin "daisyui/theme" {
  name: "dark";
  default: true;
  prefersdark: true;
  color-scheme: dark;

  /* Deep navy/charcoal backgrounds */
  --color-base-100: oklch(8% 0.02 250); /* #0a0f14 - Deepest background */
  --color-base-200: oklch(12% 0.02 250); /* #141b24 - Card backgrounds */
  --color-base-300: oklch(18% 0.03 250); /* #1e2836 - Hover states */
  --color-base-content: oklch(95% 0.01 250); /* #f0f4f8 - Primary text */

  /* Technical cyan accent */
  --color-primary: oklch(75% 0.18 195); /* #00d4ff - Bright cyan */
  --color-primary-content: oklch(10% 0.02 250); /* Dark text on cyan */

  /* Muted secondary */
  --color-secondary: oklch(55% 0.08 250); /* #5a7090 - Muted blue-gray */
  --color-secondary-content: oklch(95% 0.01 250);

  /* Accent matches primary for consistency */
  --color-accent: oklch(75% 0.18 195); /* #00d4ff */
  --color-accent-content: oklch(10% 0.02 250);

  /* Neutral for borders and subtle elements */
  --color-neutral: oklch(25% 0.02 250); /* #2a3444 - Border color */
  --color-neutral-content: oklch(85% 0.01 250);

  /* Status colors - keeping functional */
  --color-info: oklch(65% 0.15 220); /* Blue info */
  --color-info-content: oklch(100% 0 0);
  --color-success: oklch(70% 0.18 145); /* Green success */
  --color-success-content: oklch(10% 0.02 145);
  --color-warning: oklch(80% 0.15 75); /* Amber warning */
  --color-warning-content: oklch(15% 0.05 75);
  --color-error: oklch(65% 0.22 25); /* Red error */
  --color-error-content: oklch(100% 0 0);

  /* Sharper corners for technical feel */
  --radius-selector: 0.375rem;
  --radius-field: 0.25rem;
  --radius-box: 0.5rem;
}

/* === Source Registration for Monorepo ===
 * Explicitly register source paths for Tailwind to scan.
 * This is required in monorepos because Tailwind v4's automatic detection
 * may not follow cross-package imports correctly.
 */
@source "../"; /* All floorplan-app source */
@source "../../floorplan-viewer-core/src"; /* Viewer core source */

@layer base {
  body {
    font-family: "DM Sans", system-ui, sans-serif;
    background-color: oklch(var(--color-base-100));
  }

  html,
  body {
    height: 100%;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: "Bebas Neue", "DM Sans", system-ui, sans-serif;
    letter-spacing: 0.02em;
  }

  code,
  pre,
  .font-mono {
    font-family: "JetBrains Mono", ui-monospace, monospace;
  }
}

@layer components {
  .app-container {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    background-color: oklch(var(--color-base-100));
    background-image:
      repeating-linear-gradient(
        0deg,
        transparent,
        transparent 49px,
        oklch(var(--color-base-content) / 0.06) 49px,
        oklch(var(--color-base-content) / 0.06) 50px
      ),
      repeating-linear-gradient(
        90deg,
        transparent,
        transparent 49px,
        oklch(var(--color-base-content) / 0.06) 49px,
        oklch(var(--color-base-content) / 0.06) 50px
      );
  }

  .main-content {
    flex: 1;
  }

  .card-hover {
    transition:
      transform 0.2s ease,
      box-shadow 0.2s ease,
      border-color 0.2s ease;
  }

  .card-hover:hover {
    transform: translateY(-2px);
    box-shadow: 0 0 30px oklch(var(--color-primary) / 0.15);
    border-color: oklch(var(--color-primary) / 0.5);
  }

  .form-field {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
  }

  .auth-button {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    width: 100%;
    padding: 0.75rem 1rem;
    border-radius: 0.375rem;
    font-weight: 500;
    transition: all 0.2s ease;
    border: 1px solid oklch(var(--color-neutral));
  }

  .auth-button-google {
    background-color: oklch(var(--color-base-200));
    color: oklch(var(--color-base-content));
    border: 1px solid oklch(var(--color-neutral));
  }

  .auth-button-google:hover {
    background-color: oklch(var(--color-base-300));
    border-color: oklch(var(--color-primary));
    box-shadow: 0 0 15px oklch(var(--color-primary) / 0.2);
  }

  /* Base project-card styles - main styles in app.css (unlayered, higher specificity) */
  .project-card {
    position: relative;
    border-radius: 0.375rem;
    overflow: hidden;
    background-color: oklch(var(--color-base-200));
    border: 1px solid oklch(var(--color-neutral));
    transition:
      transform 0.25s ease,
      border-color 0.25s ease,
      box-shadow 0.25s ease;
  }

  .project-card:hover {
    border-color: oklch(var(--color-primary) / 0.4);
    box-shadow: 0 0 25px oklch(var(--color-primary) / 0.08);
  }

  /* Version badge */
  .version-badge {
    display: inline-flex;
    align-items: center;
    padding: 0.25rem 0.5rem;
    border-radius: 9999px;
    font-size: 0.75rem;
    font-weight: 500;
    background-color: oklch(var(--color-base-200));
    color: oklch(var(--color-base-content));
  }

  /* Collaborator avatar */
  .collaborator-avatar {
    width: 2rem;
    height: 2rem;
    border-radius: 9999px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.875rem;
    font-weight: 600;
    background-color: oklch(var(--color-primary));
    color: oklch(var(--color-primary-content));
  }

  /* Empty state - main styles in app.css (unlayered, higher specificity) */
  .empty-state {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 3rem;
    text-align: center;
    color: oklch(var(--color-base-content) / 0.5);
  }

  .empty-state-icon {
    width: 5rem;
    height: 5rem;
    margin-bottom: 1rem;
    opacity: 0.5;
  }
}

/* === Utility Layer - Custom utilities === */
@layer utilities {
  /* Transition utilities */
  .transition-colors-fast {
    transition-property: color, background-color, border-color;
    transition-duration: 150ms;
    transition-timing-function: ease;
  }

  /* Scrollbar styling */
  .scrollbar-thin {
    scrollbar-width: thin;
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: oklch(var(--color-base-200));
    border-radius: 3px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background: oklch(var(--color-base-300));
    border-radius: 3px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background: oklch(var(--color-neutral) / 0.5);
  }

  /* Text truncation */
  .truncate-2-lines {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}
