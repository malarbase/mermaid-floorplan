/**
 * Tailwind CSS + DaisyUI styles for floorplan-app
 * 
 * Uses Tailwind CSS v4 syntax with @tailwindcss/vite plugin
 * and DaisyUI v5 for component styling.
 * 
 * This file configures the same theme as floorplan-viewer-core
 * for consistency across the monorepo.
 */

@import "tailwindcss";

/* === DaisyUI v5 Configuration ===
 * Configure DaisyUI with theme settings directly in CSS
 * See: https://daisyui.com/docs/config/
 */
@plugin "daisyui" {
  themes: light --default, dark --prefersdark;
  logs: true;
}

/* === Custom Light Theme ===
 * Matches existing app colors from the monorepo
 */
@plugin "daisyui/theme" {
  name: "light";
  default: true;
  color-scheme: light;
  --color-base-100: oklch(100% 0 0);           /* #ffffff - Main background */
  --color-base-200: oklch(97.5% 0 0);          /* #f8f8f8 - Panel backgrounds */
  --color-base-300: oklch(94% 0 0);            /* #f0f0f0 - Hover states */
  --color-base-content: oklch(27% 0 0);        /* #333333 - Text color */
  --color-primary: oklch(57% 0.13 248);        /* #4a90d9 - Accent color */
  --color-primary-content: oklch(100% 0 0);    /* #ffffff */
  --color-secondary: oklch(48% 0 0);           /* #666666 */
  --color-secondary-content: oklch(100% 0 0);  /* #ffffff */
  --color-accent: oklch(57% 0.13 248);         /* #4a90d9 */
  --color-accent-content: oklch(100% 0 0);     /* #ffffff */
  --color-neutral: oklch(27% 0 0);             /* #333333 */
  --color-neutral-content: oklch(100% 0 0);    /* #ffffff */
  --color-info: oklch(57% 0.13 248);           /* #4a90d9 */
  --color-info-content: oklch(100% 0 0);       /* #ffffff */
  --color-success: oklch(55% 0.2 145);         /* #4a4 */
  --color-success-content: oklch(100% 0 0);    /* #ffffff */
  --color-warning: oklch(73% 0.14 75);         /* #f5a623 */
  --color-warning-content: oklch(27% 0 0);     /* #333333 */
  --color-error: oklch(55% 0.2 27);            /* #f44336 */
  --color-error-content: oklch(100% 0 0);      /* #ffffff */
  --radius-selector: 0.5rem;
  --radius-field: 0.25rem;
  --radius-box: 1rem;
}

/* === Custom Dark Theme ===
 * Matches existing app dark mode colors
 */
@plugin "daisyui/theme" {
  name: "dark";
  default: false;
  prefersdark: true;
  color-scheme: dark;
  --color-base-100: oklch(13% 0 0);            /* #1a1a1a - Main background */
  --color-base-200: oklch(16.5% 0 0);          /* #252526 - Panel backgrounds */
  --color-base-300: oklch(20% 0 0);            /* #2d2d2d - Hover states */
  --color-base-content: oklch(88% 0 0);        /* #e0e0e0 - Text color */
  --color-primary: oklch(57% 0.13 248);        /* #4a90d9 - Accent color */
  --color-primary-content: oklch(100% 0 0);    /* #ffffff */
  --color-secondary: oklch(48% 0 0);           /* #666666 */
  --color-secondary-content: oklch(100% 0 0);  /* #ffffff */
  --color-accent: oklch(57% 0.13 248);         /* #4a90d9 */
  --color-accent-content: oklch(100% 0 0);     /* #ffffff */
  --color-neutral: oklch(88% 0 0);             /* #e0e0e0 */
  --color-neutral-content: oklch(13% 0 0);     /* #1a1a1a */
  --color-info: oklch(57% 0.13 248);           /* #4a90d9 */
  --color-info-content: oklch(100% 0 0);       /* #ffffff */
  --color-success: oklch(75% 0.2 145);         /* #8f8 */
  --color-success-content: oklch(13% 0 0);     /* #1a1a1a */
  --color-warning: oklch(73% 0.14 75);         /* #f5a623 */
  --color-warning-content: oklch(13% 0 0);     /* #1a1a1a */
  --color-error: oklch(55% 0.2 27);            /* #f44336 */
  --color-error-content: oklch(100% 0 0);      /* #ffffff */
  --radius-selector: 0.5rem;
  --radius-field: 0.25rem;
  --radius-box: 1rem;
}

/* === Source Registration for Monorepo ===
 * Explicitly register source paths for Tailwind to scan.
 * This is required in monorepos because Tailwind v4's automatic detection
 * may not follow cross-package imports correctly.
 */
@source "../";                                  /* All floorplan-app source */
@source "../../floorplan-viewer-core/src";     /* Viewer core source */

/* === Base Layer Customizations === */
@layer base {
  /* Body defaults */
  body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
  }
  
  /* Ensure html and body can have full height */
  html, body {
    height: 100%;
  }
}

/* === Component Layer - App-specific component patterns === */
@layer components {
  /* App container for full-height layouts */
  .app-container {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
  }
  
  /* Main content area */
  .main-content {
    flex: 1;
  }
  
  /* Card hover effect */
  .card-hover {
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }
  
  .card-hover:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 25px -5px rgb(0 0 0 / 0.15);
  }
  
  /* Form field wrapper */
  .form-field {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
  }
  
  /* Auth button styles */
  .auth-button {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    width: 100%;
    padding: 0.75rem 1rem;
    border-radius: 0.5rem;
    font-weight: 500;
    transition: all 0.2s ease;
  }
  
  .auth-button-google {
    background-color: #ffffff;
    color: #333333;
    border: 1px solid #e0e0e0;
  }
  
  .auth-button-google:hover {
    background-color: #f5f5f5;
    box-shadow: 0 2px 8px rgb(0 0 0 / 0.1);
  }
  
  /* Project card */
  .project-card {
    position: relative;
    border-radius: var(--radius-box, 1rem);
    overflow: hidden;
    background-color: oklch(var(--color-base-100));
    transition: all 0.2s ease;
  }
  
  .project-card:hover {
    box-shadow: 0 10px 25px -5px rgb(0 0 0 / 0.15);
  }
  
  /* Version badge */
  .version-badge {
    display: inline-flex;
    align-items: center;
    padding: 0.25rem 0.5rem;
    border-radius: 9999px;
    font-size: 0.75rem;
    font-weight: 500;
    background-color: oklch(var(--color-base-200));
    color: oklch(var(--color-base-content));
  }
  
  /* Collaborator avatar */
  .collaborator-avatar {
    width: 2rem;
    height: 2rem;
    border-radius: 9999px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.875rem;
    font-weight: 600;
    background-color: oklch(var(--color-primary));
    color: oklch(var(--color-primary-content));
  }
  
  /* Empty state */
  .empty-state {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 3rem;
    text-align: center;
    color: oklch(var(--color-base-content) / 0.6);
  }
  
  .empty-state-icon {
    font-size: 3rem;
    margin-bottom: 1rem;
    opacity: 0.5;
  }
}

/* === Utility Layer - Custom utilities === */
@layer utilities {
  /* Transition utilities */
  .transition-colors-fast {
    transition-property: color, background-color, border-color;
    transition-duration: 150ms;
    transition-timing-function: ease;
  }
  
  /* Scrollbar styling */
  .scrollbar-thin {
    scrollbar-width: thin;
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: oklch(var(--color-base-200));
    border-radius: 3px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background: oklch(var(--color-base-300));
    border-radius: 3px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background: oklch(var(--color-neutral) / 0.5);
  }
  
  /* Text truncation */
  .truncate-2-lines {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}
